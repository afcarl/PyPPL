<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Basics and folder structure - PyPPL</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Basics and folder structure";
    var mkdocs_page_input_path = "basic-concepts-and-directory-structure.md";
    var mkdocs_page_url = "/basic-concepts-and-directory-structure/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../README/" class="icon icon-home"> PyPPL</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../README/">Introduction</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Basics and folder structure</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#basic-concepts-and-folder-structure">Basic concepts and folder structure</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#layers-of-a-pipeline">Layers of a pipeline</a></li>
        
            <li><a class="toctree-l3" href="#folder-structure">Folder structure</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../placeholders/">Templating</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../channels/">Channels</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../specify-input-and-output-of-a-process/">Input and output of a process</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../write-your-script/">The heart: script</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../export-output-files/">Output file exporting</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../caching/">Caching and resuming processes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../runners/">Runners</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../set-other-properties-of-a-process/">Other attributes of a process</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../configure-your-logs/">Log configuration</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../configure-a-pipeline/">Pipeline configuration</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../draw-flowchart-of-a-pipeline/">Pipeline flowchart</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../command-line-argument-parser/">Command line argument parser</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../aggregations/">Aggregations</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../command-line-tool/">Command line tool</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../api/">API</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../faq/">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../change-log/">Change log</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../README/">PyPPL</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../README/">Docs</a> &raquo;</li>
    
      
    
    <li>Basics and folder structure</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="basic-concepts-and-folder-structure">Basic concepts and folder structure</h1>
<!-- toc -->

<h2 id="layers-of-a-pipeline">Layers of a pipeline</h2>
<p><img alt="Basic concepts" src="../concept.png" />
The pipeline consists of channels and processes. A process may have many jobs. Each job uses the corresponding elements from the input channel of the process, and generates values for output channel.<br />
Actually, what you need to do is just specify the first input channel, and then tell <code>PyPPL</code> the dependencies of the processes. The later processes will use the output channel of the processes they depend on. Of course, you can interfere by using functions in the input specification.</p>
<h2 id="folder-structure">Folder structure</h2>
<pre><code>./
|-- pipeline.py
`-- workdir/
    `-- PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/
        `-- proc.settings
        `-- &lt;job.index&gt;/
            |-- input/
            |-- output/
            |-- job.cache
            |-- job.script
            |-- job.pid
            |-- job.rc
            |-- job.stdout
            |-- job.stderr
            |-- [job.script.submit]
            |-- [job.script.local]
            |-- [job.script.ssh]
            `-- [job.script.sge]
</code></pre>

<table>
<thead>
<tr>
<th>Path</th>
<th>Content</th>
<th>Memo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>workdir/</code></td>
<td>Where the pipeline directories of all processes of current pipeline are located.</td>
<td>Can be set by <code>p.ppldir</code></td>
</tr>
<tr>
<td><code>PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/</code></td>
<td>The work directory of current process.</td>
<td>The <code>suffix</code> is a unique identify of the process according to its configuration.<br/>You may set it by <code>p.workdir</code></td>
</tr>
<tr>
<td><code>proc.settings/</code></td>
<td>The settings of the process</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/</code></td>
<td>The job directory</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/input/</code></td>
<td>Where you can find the links to all the input files</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/output/</code></td>
<td>Where you can find all the output files</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.cache</code></td>
<td>The file containing the signature of the job</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script</code></td>
<td>To script file to be running</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.pid</code></td>
<td>The id of the job of its running system.</td>
<td>Mostly used to tell whether the process is still running.</td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.rc</code></td>
<td>To file containing the return code</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.stdout</code></td>
<td>The STDOUT of the script</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.stderr</code></td>
<td>The STDERR of the script</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.submit</code></td>
<td>The file to submit jobs (local, ssh)</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.local</code></td>
<td>The wrapper for local jobs to save return code, stdout and stderr</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.ssh</code></td>
<td>The script file for ssh runner</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.sge</code></td>
<td>The script file for sge runner</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note</strong> You are encouraged to set <code>p.ppldir</code> <strong>BUT NOT</strong> <code>p.workdir</code>, as it contains a unique <code>suffix</code> that is automatically computed.<br />
<strong>Note</strong> In this documentation:
- <code>&lt;workdir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/</code>, 
- <code>&lt;indir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/&lt;job.index&gt;/input/</code>
- <code>&lt;outdir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/&lt;job.index&gt;/output/</code> 
- <code>pXXX</code> refers to a process instantiated from <code>pyppl.Proc</code> class.</p>
</blockquote>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../placeholders/" class="btn btn-neutral float-right" title="Templating">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../README/" class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../README/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../placeholders/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
